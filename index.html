<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Магазин — макет</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background:#f5f5f5; }
    header { display:flex; gap:10px; align-items:center; margin-bottom:20px; }
    input, select, button { padding:6px; }
    .container { display:grid; grid-template-columns: 3fr 1fr; gap:20px; }
    .products { display:grid; grid-template-columns: repeat(auto-fill, minmax(150px,1fr)); gap:15px; }
    .product { background:#fff; padding:10px; border-radius:6px; box-shadow:0 2px 5px rgba(0,0,0,.1); }
    .cart { background:#fff; padding:10px; border-radius:6px; }
    .admin { margin-top:30px; background:#fff; padding:15px; border-radius:6px; }
    h2 { margin-top:0; }
    .hidden { display:none; }
  </style>
</head>
<body>

<!-- Адмін логін -->
<div class="admin" id="loginBox">
  <h2>Вхід в адмінку</h2>
  <input id="adminCode" placeholder="Введіть код доступу" />
  <button onclick="loginAdmin()">Увійти</button>
  <p id="loginStatus"></p>
</div>

<header>
  <h1>Магазин</h1>
  <input id="search" placeholder="Пошук товарів" />
  <select id="filter">
    <option value="">Усі категорії</option>
    <option value="tech">Техніка</option>
    <option value="other">Інше</option>
  </select>
</header>

<div class="container">
  <div class="products" id="products"></div>
  <div class="cart">
    <h2>Корзина</h2>
    <ul id="cart"></ul>
    <strong id="total"></strong>
  </div>
</div>

<div class="admin hidden" id="adminPanel">
  <h2>Адмінка (додати товар)</h2>
  <input id="name" placeholder="Назва" />
  <input id="price" placeholder="Ціна" type="number" />
  <select id="category">
    <option value="tech">Техніка</option>
    <option value="other">Інше</option>
  </select>
  <button onclick="addProduct()">Додати</button>
</div>

<div class="admin">
  <h2>Форма зворотного звʼязку</h2>
  <input id="email" placeholder="Email" />
  <button onclick="sendForm()">Відправити</button>
  <p id="formStatus"></p>
</div>

<script>
const ADMIN_CODE = '1234'; // код доступу в адмінку
let products = JSON.parse(localStorage.getItem('products')) || [
  {id:1, name:'Телефон', price:5000, category:'tech'},
  {id:2, name:'Навушники', price:800, category:'tech'},
  {id:3, name:'Блокнот', price:120, category:'other'}
];

let cart = [];

function renderProducts() {
  const list = document.getElementById('products');
  list.innerHTML = '';
  const search = document.getElementById('search').value.toLowerCase();
  const filter = document.getElementById('filter').value;

  products.filter(p =>
    p.name.toLowerCase().includes(search) && (!filter || p.category === filter)
  ).forEach(p => {
    const div = document.createElement('div');
    div.className = 'product';
    div.innerHTML = `<h3>${p.name}</h3><p>${p.price} грн</p><button>В корзину</button>`;
    div.querySelector('button').onclick = () => addToCart(p);
    list.appendChild(div);
  });
}

function addToCart(product) {
  cart.push(product);
  renderCart();
}

function renderCart() {
  const ul = document.getElementById('cart');
  ul.innerHTML = '';
  let total = 0;
  cart.forEach(p => {
    total += p.price;
    const li = document.createElement('li');
    li.textContent = `${p.name} — ${p.price} грн`;
    ul.appendChild(li);
  });
  document.getElementById('total').textContent = 'Разом: ' + total + ' грн';
}

function addProduct() {
  const name = document.getElementById('name').value;
  const price = +document.getElementById('price').value;
  const category = document.getElementById('category').value;
  if (!name || !price) return alert('Заповніть поля');
  products.push({id:Date.now(), name, price, category});
  localStorage.setItem('products', JSON.stringify(products));
  renderProducts();
}

function loginAdmin() {
  const code = document.getElementById('adminCode').value;
  if (code === ADMIN_CODE) {
    document.getElementById('adminPanel').classList.remove('hidden');
    document.getElementById('loginBox').classList.add('hidden');
  } else {
    document.getElementById('loginStatus').textContent = 'Невірний код';
  }
}

function sendForm()() {
  document.getElementById('formStatus').textContent = 'Форма відправлена (імітація)';
}

['search','filter'].forEach(id => document.getElementById(id).oninput = renderProducts);

renderProducts();
</script>

</body>
</html>
